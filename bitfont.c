/**
 * bitfont -- the only font I have ever designed. ever.
 * never again. pleaseeeee :P
 * next time? I'm learning the freetype API!
 */

#include "bitfont.h"

unsigned char makeHLine(char* line) {
    return ((line[0] == '*') ? (1<<7) : 0) |
           ((line[1] == '*') ? (1<<6) : 0) |
           ((line[2] == '*') ? (1<<5) : 0) |
           ((line[3] == '*') ? (1<<4) : 0) |
           ((line[4] == '*') ? (1<<3) : 0) |
           ((line[5] == '*') ? (1<<2) : 0) |
           ((line[6] == '*') ? (1<<1) : 0) |
           ((line[7] == '*') ? (1<<0) : 0);
}

Glyph make8x8Glyph(
    char* l1,
    char* l2,
    char* l3,
    char* l4,
    char* l5,
    char* l6,
    char* l7,
    char* l8) {
    
    Glyph g;

    g.bitmap[0] = makeHLine(l1);
    g.bitmap[1] = makeHLine(l2);
    g.bitmap[2] = makeHLine(l3);
    g.bitmap[3] = makeHLine(l4);
    g.bitmap[4] = makeHLine(l5);
    g.bitmap[5] = makeHLine(l6);
    g.bitmap[6] = makeHLine(l7);
    g.bitmap[7] = makeHLine(l8);

    return g;
}

Glyph c1, c2, c3, c4, c5, c6, c7, c8, c9, cColon, cUnknown;

void initializeGlyphs() {
    c1 = make8x8Glyph(
        "...**...",
        "..*.*...",
        "....*...",
        "....*...",
        "....*...",
        "....*...",
        ".******.",
        "........"
    );

    c2 = make8x8Glyph(
        "...**...",
        "..*..*..",
        ".....*..",
        "....*...",
        "...*....",
        "..*.....",
        ".*****..",
        "........"
    );

    c3 = make8x8Glyph(
        "..****..",
        ".....*..",
        ".....*..",
        "..****..",
        ".....*..",
        ".....*..",
        "..****..",
        "........"
    );

    c4 = make8x8Glyph(
        "..*...*.",
        "..*...*.",
        "..*...*.",
        "..*****.",
        "......*.",
        "......*.",
        "......*.",
        "........"
    );

    c5 = make8x8Glyph(
        ".******.",
        ".*......",
        ".*......",
        ".******.",
        "......*.",
        "......*.",
        ".******.",
        "........"
    );

    c6 = make8x8Glyph(
        "..*****.",
        "..*.....",
        "..*.....",
        "..*.....",
        "..*****.",
        "..*...*.",
        "..*****.",
        "........"
    );

    c7 = make8x8Glyph(
        ".******.",
        "......*.",
        "......*.",
        "......*.",
        "......*.",
        "......*.",
        "......*.",
        "........"
    );

    c8 = make8x8Glyph(
        ".******.",
        ".*....*.",
        ".*....*.",
        ".******.",
        ".*....*.",
        ".*....*.",
        ".******.",
        "........"
    );

    c9 = make8x8Glyph(
        ".******.",
        ".*....*.",
        ".*....*.",
        ".******.",
        "......*.",
        "......*.",
        "......*.",
        "........"
    );

    cColon = make8x8Glyph(
        "........",
        "...***..",
        "...***..",
        "........",
        "........",
        "...***..",
        "...***..",
        "........"
    );

    cUnknown = make8x8Glyph(
        "........",
        "...*....",
        "..*..*..",
        ".*.*..*.",
        ".*..*.*.",
        "..*..*..",
        "....*...",
        "........"
    );
}
